@mixin switch-size(
  $width, $height, $font-size, $inner-left,
  $inner-right, $checked-inner-left, $checked-inner-right,
  $animationName, $loadingScale: 1
) {
  min-width: $width;
  height: $height;
  line-height: $height - 2px;
  border-radius: $height - 2px;

  &:after {
    width: $height - 4px;
    height: $height - 4px;
  }

  @include e(inner) {
    display: block;
    margin-left: $inner-left;
    margin-right: $inner-right;
    color: #fff;
    font-size: $font-size;
  }

  @include e(loadingIcon) {
    transform: scale($loadingScale);
    animation: $animationName 1s linear infinite;
  }

  @include m(checked) {
    @include e(inner) {
      margin-left: $checked-inner-left;
      margin-right: $checked-inner-right;
    }
  }
}

@include b(switch) {
  position: relative;
  display: inline-block;
  vertical-align: middle;
  border: 1px solid $--switch-default-color;
  background-color: $--switch-default-color;
  cursor: pointer;
  user-select: none;
  transition: all .3s;
  @include switch-size(
    $--switch-width, $--switch-height,
    $--switch-font-size, $--switch-inner-left,$--switch-inner-right,
    $--switch-checked-inner-left, $--switch-checked-inner-right, rotate360
  );

  &:after {
    position: absolute;
    left: 2px;
    top: 1px;
    border-radius: 100%;
    background-color: #fff;
    content: " ";
    cursor: pointer;
    transition: all .3s cubic-bezier(.78, .14, .15, .86);
  }

  @include e(loadingIcon) {
    position: absolute;
    top: 4px;
    left: 5px;
    z-index: 1;
    background-color: transparent;
    font-size: $--switch-loadingIcon-font-size;
    width: $--switch-loadingIcon-font-size;
    height: $--switch-loadingIcon-font-size;
  }

  @include m(checked) {
    background-color: $base-theme-info;
    border: 1px solid $base-theme-info;

    &:after {
      left: 100%;
      margin-left: $--switch-checked-margin-left;
      transform: translateX(-100%);
    }
    @include e(loadingIcon) {
      left: 100%;
      margin-left: -17px;
    }
  }

  /* Switch sizes */
  @include m(sm) {
    @include switch-size(
      $--switch-width-sm, $--switch-height-sm,
      $--switch-font-size-sm, $--switch-sm-inner-left,$--switch-sm-inner-right,
      $--switch-sm-checked-inner-left, $--switch-sm-checked-inner-right,
      Animate-switch-sm-rotate360, $--switch-sm-loadingIcon-scale
    );
    @include e(loadingIcon) {
      top: 1px;
      left: 2px;
    }
    @include m(checked) {
      @include e(loadingIcon) {
        left: 100%;
        margin-left: -14px;
      }
    }
  }

  @include m(disabled) {
    cursor: not-allowed;
    opacity: $--switch-disabled-opacity;

    &:after {
      cursor: not-allowed;
    }
  }

  @keyframes Animate-switch-sm-rotate360 {
    0% {
      transform-origin: 50% 50%;
      transform: rotate(0deg) scale(0.66667);
    }

    100% {
      transform-origin: 50% 50%;
      transform: rotate(360deg) scale(0.66667);
    }
  }
}

